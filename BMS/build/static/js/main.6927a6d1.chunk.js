(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e,t,a){e.exports=a(370)},189:function(e,t,a){},190:function(e,t,a){},370:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(6),o=a.n(l),s=(a(189),a(21)),i=a(22),u=a(24),c=a(23),p=a(25),m=a(59),d=(a(190),a(70)),h=a.n(d),b=a(92),f=a(29),v=a(182),g=a(79),y=a(172),E=a(372),k=a(374),S=a(165),w=a.n(S),I=function(e){return function(t,a){return r.a.createElement(e,Object.assign({axios:w.a},t,a))}},O=a(130),j=a(166),x={goodsInfo:[],userInfo:[]},C=Object(j.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"editgoods":return Object(O.a)({},e,{goodsInfo:[t.payload]});case"edituser":return Object(O.a)({},e,{userInfo:[t.payload]});default:return e}}),T=v.a.Search,L=g.a.Option,D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).showModal=function(t){e.setState({visible:!0,imgurl:t.url})},e.handleOk=function(t){e.setState({visible:!1})},e.handleCancel=function(t){e.setState({visible:!1})},e.onSelect=function(t){e.setState({num:t},function(){e.renderList()})},e.state={imgurl:"",visible:!1,index:"",num:"1",dataSource:[],loading:!0,columns:[{title:"\u5546\u54c1ID",dataIndex:"_id",key:"_id"},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u5546\u54c1\u56fe\u7247",key:"url",render:function(t){return r.a.createElement("div",{style:{width:"50px"}},r.a.createElement("img",{src:t.url,style:{width:"100%",cursor:"pointer"},alt:t.name,onClick:e.showModal.bind(Object(f.a)(Object(f.a)(e)),t)}))}},{title:"\u4ef7\u683c",dataIndex:"price",key:"price"},{title:"\u7c7b\u578b",dataIndex:"type",key:"type"},{title:"\u64cd\u4f5c",key:"action",render:function(t){return r.a.createElement("div",{style:{color:"#40a9ff",cursor:"pointer",userSelect:"none"}},r.a.createElement("span",{onClick:e.deleGoods.bind(Object(f.a)(Object(f.a)(e)),t),style:{marginRight:"4px"}},"\u5220\u9664"),r.a.createElement("span",{onClick:e.editGoods.bind(Object(f.a)(Object(f.a)(e)),t),style:{marginLeft:"4px"}},"\u7f16\u8f91"))}}]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"editGoods",value:function(e){console.log(e);var t=e._id;C.dispatch({type:"editgoods",payload:{record:e}}),this.props.history.push({pathname:"/app/editgoods/",search:"?id="+t,state:{id:t}})}},{key:"deleGoods",value:function(e){var t=this;window.confirm("\u662f\u5426\u5220\u9664")&&this.props.axios.post("http://47.102.102.242:1014/setting/del",{_id:e._id,collection:"goods"}).then(function(e){200===e.status?(alert("\u5220\u9664\u6210\u529f"),t.renderList()):alert("\u5220\u9664\u5931\u8d25")})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"!==t.data&&e.props.history.push({pathname:"/login"})}),this.renderList()}},{key:"renderList",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.num,e.next=3,this.props.axios.post("http://47.102.102.242:1014/setting/findGoods",{num:t}).then(function(e){a.setState({dataSource:e.data,loading:!1})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"goodsSelect",style:{paddingBottom:20}},r.a.createElement(T,{placeholder:"input search text",onSearch:function(e){return console.log(e)},enterButton:!0,style:{width:300}}),r.a.createElement(g.a,{defaultValue:"1",style:{width:120,float:"right"},onChange:this.onSelect},r.a.createElement(L,{value:"1"},"\u5367\u5ba4\u5e8a\u54c1"),r.a.createElement(L,{value:"2"},"\u51a0\u519b\u6bdb\u5dfe"),r.a.createElement(L,{value:"3"},"\u5973\u88c5"),r.a.createElement(L,{value:"4"},"\u7537\u88c5"),r.a.createElement(L,{value:"5"},"\u65e5\u7528\u54c1"),r.a.createElement(L,{value:"6"},"\u6d17\u6da4\u7528\u54c1"),r.a.createElement(L,{value:"7"},"\u5305\u888b"))),r.a.createElement("div",{className:"goodsList"},r.a.createElement(y.a,{spinning:this.state.loading},r.a.createElement(E.a,{dataSource:this.state.dataSource,columns:this.state.columns,rowKey:"_id"}))),r.a.createElement(k.a,{title:"\u5546\u54c1\u56fe\u7247",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},r.a.createElement("img",{src:this.state.imgurl,style:{width:"100%"},alt:"\u5546\u54c1\u56fe\u7247"})))}}]),t}(r.a.Component),P=D=I(D),q=a(373),F=a(375),N=a(31),_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||e.props.axios.post("http://47.102.102.242:1014/setting/insertGoods",{name:a.name,url:a.url,price:a.price,num:a.goodsType[0],type:a.goodsType[1]}).then(function(e){200===e.status?alert("\u6dfb\u52a0\u6210\u529f"):alert("\u6dfb\u52a0\u5931\u8d25")})})},e.state={residences:[{value:"1",label:"\u5367\u5ba4\u5e8a\u54c1",children:[{value:"\u82b1\u9e1f",label:"\u82b1\u9e1f\u7cfb\u5217"},{value:"\u8001\u7c97\u5e03",label:"\u8001\u7c97\u5e03\u7cfb\u5217"},{value:"\u5a5a\u5e86",label:"\u5a5a\u5e86\u7cfb\u5217"},{value:"\u4ef6\u5957",label:"\u4ef6\u5957"},{value:"\u5e8a\u5355",label:"\u5e8a\u5355/\u5e8a\u7b20"},{value:"\u88ab\u7f69",label:"\u88ab\u7f69"}]},{value:"2",label:"\u51a0\u519b\u6bdb\u5dfe",children:[{value:"\u6bdb\u5dfe",label:"\u6bdb\u5dfe"},{value:"\u65b9\u5dfe",label:"\u65b9\u5dfe"},{value:"\u6d74\u5dfe",label:"\u6d74\u5dfe/\u6d74\u888d"}]},{value:"3",label:"\u5973\u88c5",children:[{value:"\u5bb6\u5c45\u670d",label:"\u5bb6\u5c45\u670d"},{value:"T\u6064",label:"T\u6064/\u80cc\u5fc3"},{value:"\u88e4\u5b50",label:"\u88e4\u5b50"},{value:"\u88d9\u5b50",label:"\u88d9\u5b50"},{value:"\u4fdd\u6696",label:"\u4fdd\u6696\u5185\u8863"}]},{value:"4",label:"\u7537\u88c5",children:[{value:"\u5bb6\u5177\u670d",label:"\u5bb6\u5177\u670d"},{value:"T\u6064",label:"\u7537T\u6064"},{value:"\u886c\u886b",label:"\u886c\u886b"},{value:"\u5185\u88e4",label:"\u5185\u88e4"}]},{value:"5",label:"\u65e5\u7528\u54c1",children:[{value:"\u62bd\u7eb8",label:"\u62bd\u7eb8"},{value:"\u56f4\u88d9",label:"\u56f4\u88d9"}]},{value:"6",label:"\u6d17\u6da4\u7528\u54c1",children:[{value:"\u6c27\u529b\u591a",label:"\u6c27\u5229\u591a"}]},{value:"7",label:"\u5305\u888b",children:[{value:"\u96f6\u94b1\u5305",label:"\u96f6\u94b1\u5305"},{value:"\u8d2d\u7269\u5305",label:"\u8d2d\u7269\u5305"},{value:"\u6742\u7269\u5305",label:"\u6742\u7269\u5305"}]}]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"!==t.data&&e.props.history.push({pathname:"/login"})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(q.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u540d\u79f0"},e("name",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u4ef7\u683c"},e("price",{rules:[{required:!0,message:"Please input your price!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u56fe\u7247"},e("url",{initialValue:"https://p2.dapuimg.com/public/images/59/b0/90/29aac585e8b756d74831dde6eaec5034.jpg?1550123998#h",rules:[{required:!0,message:"Please input your url!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u5206\u7c7b"},e("goodsType",{initialValue:["1","\u82b1\u9e1f"],rules:[{type:"array",required:!0,message:"Please select your habitual num!"}]})(r.a.createElement(F.a,{options:this.state.residences}))),r.a.createElement(q.a.Item,{wrapperCol:{span:12,offset:5}},r.a.createElement(N.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(n.Component);_=I(_);var G=q.a.create()(_),M=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||e.props.axios.post("http://47.102.102.242:1014/setting/updateGoods",{_id:a._id,name:a.name,url:a.url,price:a.price,num:a.goodsType[0],type:a.goodsType[1]}).then(function(t){200===t.status?(alert("\u4fee\u6539\u6210\u529f"),e.props.history.push({pathname:"/home"})):alert("\u4fee\u6539\u5931\u8d25")})})},e.state={residences:[{value:"1",label:"\u5367\u5ba4\u5e8a\u54c1",children:[{value:"\u82b1\u9e1f",label:"\u82b1\u9e1f\u7cfb\u5217"},{value:"\u8001\u7c97\u5e03",label:"\u8001\u7c97\u5e03\u7cfb\u5217"},{value:"\u5a5a\u5e86",label:"\u5a5a\u5e86\u7cfb\u5217"},{value:"\u4ef6\u5957",label:"\u4ef6\u5957"},{value:"\u5e8a\u5355",label:"\u5e8a\u5355/\u5e8a\u7b20"},{value:"\u88ab\u7f69",label:"\u88ab\u7f69"}]},{value:"2",label:"\u51a0\u519b\u6bdb\u5dfe",children:[{value:"\u6bdb\u5dfe",label:"\u6bdb\u5dfe"},{value:"\u65b9\u5dfe",label:"\u65b9\u5dfe"},{value:"\u6d74\u5dfe",label:"\u6d74\u5dfe/\u6d74\u888d"}]},{value:"3",label:"\u5973\u88c5",children:[{value:"\u5bb6\u5c45\u670d",label:"\u5bb6\u5c45\u670d"},{value:"T\u6064",label:"T\u6064/\u80cc\u5fc3"},{value:"\u88e4\u5b50",label:"\u88e4\u5b50"},{value:"\u88d9\u5b50",label:"\u88d9\u5b50"},{value:"\u4fdd\u6696",label:"\u4fdd\u6696\u5185\u8863"}]},{value:"4",label:"\u7537\u88c5",children:[{value:"\u5bb6\u5177\u670d",label:"\u5bb6\u5177\u670d"},{value:"T\u6064",label:"\u7537T\u6064"},{value:"\u886c\u886b",label:"\u886c\u886b"},{value:"\u5185\u88e4",label:"\u5185\u88e4"}]},{value:"5",label:"\u65e5\u7528\u54c1",children:[{value:"\u62bd\u7eb8",label:"\u62bd\u7eb8"},{value:"\u56f4\u88d9",label:"\u56f4\u88d9"}]},{value:"6",label:"\u6d17\u6da4\u7528\u54c1",children:[{value:"\u6c27\u529b\u591a",label:"\u6c27\u5229\u591a"}]},{value:"7",label:"\u5305\u888b",children:[{value:"\u96f6\u94b1\u5305",label:"\u96f6\u94b1\u5305"},{value:"\u8d2d\u7269\u5305",label:"\u8d2d\u7269\u5305"},{value:"\u6742\u7269\u5305",label:"\u6742\u7269\u5305"}]}],goodsInfo:[]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"!==t.data&&e.props.history.push({pathname:"/login"})}),(!this.props.history.location.search.slice(4)||C.getState().goodsInfo.length<=0)&&this.props.history.push({pathname:"/app/home"}),this.setState({goodsInfo:C.getState().goodsInfo[0]})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(q.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u540d\u79f0"},e("name",{initialValue:this.state.goodsInfo.record?this.state.goodsInfo.record.name:"",rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u4ef7\u683c"},e("price",{initialValue:this.state.goodsInfo.record?this.state.goodsInfo.record.price:"",rules:[{required:!0,message:"Please input your price!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u56fe\u7247"},e("url",{initialValue:this.state.goodsInfo.record?this.state.goodsInfo.record.url:"",rules:[{required:!0,message:"Please input your url!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5546\u54c1\u5206\u7c7b"},e("goodsType",{initialValue:[this.state.goodsInfo.record?this.state.goodsInfo.record.num:"",this.state.goodsInfo.record?this.state.goodsInfo.record.type:""],rules:[{type:"array",required:!0,message:"Please select your habitual num!"}]})(r.a.createElement(F.a,{options:this.state.residences}))),r.a.createElement(q.a.Item,{wrapperCol:{span:12,offset:5}},r.a.createElement(N.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(n.Component);M=I(M);var B=q.a.create()(M),V=v.a.Search,U=g.a.Option,H=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).onSelect=function(t){e.setState({num:t},function(){e.renderList()})},e.state={index:"",num:"1",dataSource:[],loading:!0,columns:[{title:"\u7528\u6237ID",dataIndex:"_id",key:"_id"},{title:"\u7528\u6237\u540d\u79f0",dataIndex:"username",key:"username"},{title:"\u64cd\u4f5c",key:"action",render:function(t){return r.a.createElement("div",{style:{color:"#40a9ff",cursor:"pointer",userSelect:"none"}},r.a.createElement("span",{onClick:e.deleGoods.bind(Object(f.a)(Object(f.a)(e)),t),style:{marginRight:"4px"}},"\u5220\u9664"),r.a.createElement("span",{onClick:e.editGoods.bind(Object(f.a)(Object(f.a)(e)),t),style:{marginLeft:"4px"}},"\u7f16\u8f91"))}}]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"editGoods",value:function(e){var t=e._id;C.dispatch({type:"edituser",payload:{record:e}}),this.props.history.push({pathname:"/app/edituser/",search:"?id="+t,state:{id:t}})}},{key:"deleGoods",value:function(e){var t=this;window.confirm("\u662f\u5426\u5220\u9664")&&this.props.axios.post("http://47.102.102.242:1014/setting/del",{_id:e._id,collection:"users"}).then(function(e){200===e.status?(alert("\u5220\u9664\u6210\u529f"),t.renderList()):alert("\u5220\u9664\u5931\u8d25")})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"!==t.data&&e.props.history.push({pathname:"/login"})}),this.renderList()}},{key:"renderList",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.num,e.next=3,this.props.axios.post("http://47.102.102.242:1014/setting/findUsers",{num:t}).then(function(e){a.setState({dataSource:e.data,loading:!1})});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"goodsSelect",style:{paddingBottom:20}},r.a.createElement(V,{placeholder:"input search text",onSearch:function(e){return console.log(e)},enterButton:!0,style:{width:300}}),r.a.createElement(g.a,{defaultValue:"1",style:{width:120,float:"right"},onChange:this.onSelect},r.a.createElement(U,{value:"1"},"\u5367\u5ba4\u5e8a\u54c1"),r.a.createElement(U,{value:"2"},"\u51a0\u519b\u6bdb\u5dfe"),r.a.createElement(U,{value:"3"},"\u5973\u88c5"),r.a.createElement(U,{value:"4"},"\u7537\u88c5"),r.a.createElement(U,{value:"5"},"\u65e5\u7528\u54c1"),r.a.createElement(U,{value:"6"},"\u6d17\u6da4\u7528\u54c1"),r.a.createElement(U,{value:"7"},"\u5305\u888b"))),r.a.createElement("div",{className:"goodsList"},r.a.createElement(y.a,{spinning:this.state.loading},r.a.createElement(E.a,{dataSource:this.state.dataSource,columns:this.state.columns,rowKey:"_id"}))))}}]),t}(r.a.Component),K=H=I(H),R=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||e.props.axios.post("http://47.102.102.242:1014/setting/insertUsers",{username:a.username,password:a.password}).then(function(e){200===e.status?alert("\u6dfb\u52a0\u6210\u529f"):alert("\u6dfb\u52a0\u5931\u8d25")})})},e.handleConfirmBlur=function(t){var a=t.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!a})},e.compareToFirstPassword=function(t,a,n){var r=e.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.state={confirmDirty:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"!==t.data&&e.props.history.push({pathname:"/login"})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(q.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{label:"\u7528\u6237\u540d"},e("username",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5bc6\u7801"},e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(v.a,{type:"password"}))),r.a.createElement(q.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801"},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(v.a,{type:"password",onBlur:this.handleConfirmBlur}))),r.a.createElement(q.a.Item,{wrapperCol:{span:12,offset:5}},r.a.createElement(N.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(n.Component);R=I(R);var A=q.a.create()(R),J=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||e.props.axios.post("http://47.102.102.242:1014/setting/updateUsers",{username:a.username,password:a.password}).then(function(t){200===t.status?(alert("\u4fee\u6539\u6210\u529f"),e.props.history.push({pathname:"/app/user"})):alert("\u4fee\u6539\u5931\u8d25")})})},e.handleConfirmBlur=function(t){var a=t.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!a})},e.compareToFirstPassword=function(t,a,n){var r=e.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.state={confirmDirty:!1,userInfo:[]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"!==t.data&&e.props.history.push({pathname:"/login"})}),(!this.props.history.location.search.slice(4)||C.getState().userInfo.length<=0)&&this.props.history.push({pathname:"/app/user"}),this.setState({userInfo:C.getState().userInfo[0]})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(q.a,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},r.a.createElement(q.a.Item,{label:"\u7528\u6237\u540d"},e("username",{initialValue:this.state.userInfo.record?this.state.userInfo.record.username:"",rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(v.a,null))),r.a.createElement(q.a.Item,{label:"\u5bc6\u7801"},e("password",{initialValue:this.state.userInfo.record?this.state.userInfo.record.password:"",rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(v.a,{type:"password"}))),r.a.createElement(q.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801"},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(v.a,{type:"password",onBlur:this.handleConfirmBlur}))),r.a.createElement(q.a.Item,{wrapperCol:{span:12,offset:5}},r.a.createElement(N.a,{type:"primary",htmlType:"submit"},"Submit")))}}]),t}(n.Component);J=I(J);var W=q.a.create()(J),$=(a(368),a(129)),z=a(371),Q=a(9),X=$.b.SubMenu,Y=z.a.Header,Z=z.a.Content,ee=z.a.Sider,te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).handleClick=function(t){e.setState({current:t.key},function(){e.props.history.push("/app/"+t.key.toLowerCase())})},e.state={navs:[{text:"\u5546\u54c1\u5217\u8868",name:"Home",path:"/home"},{text:"\u6dfb\u52a0\u5546\u54c1",name:"AddGoods",path:"/addgoods"},{text:"\u4fee\u6539\u5546\u54c1",name:"EditGoods",path:"/editgoods"},{text:"\u767b\u5f55",name:"Login",path:"/login"},{text:"\u7528\u6237\u5217\u8868",name:"User",path:"/user"},{text:"\u6dfb\u52a0\u7528\u6237",name:"AddUser",path:"/adduser"},{text:"\u7f16\u8f91\u7528\u6237",name:"EditUser",path:"/edituser"}],current:"Home",LogonStatus:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("username"),t=document.querySelector(".username"),a=document.querySelector(".Login"),n=document.querySelector(".Signout");e?(t.innerHTML=e,a.style.display="none",n.style.display="inline-block"):(t.innerHTML="",a.style.display="inline-block",n.style.display="none")}},{key:"Signout",value:function(){window.confirm("\u786e\u8ba4\u8981\u9000\u51fa\u5417\uff1f")&&(localStorage.removeItem("token"),localStorage.removeItem("username"),this.props.history.push({pathname:"/login"}))}},{key:"getlogin",value:function(){this.props.history.push({pathname:"/login"})}},{key:"render",value:function(){return r.a.createElement(z.a,null,r.a.createElement(Y,{className:"header"},r.a.createElement("div",{id:"account",style:{color:"#40a9ff",cursor:"pointer",userSelect:"none",float:"right"}},r.a.createElement("span",{className:"username"}),"\xa0\xa0\xa0\xa0",r.a.createElement("span",{onClick:this.getlogin.bind(this),className:"Login"},"Login"),r.a.createElement("span",{onClick:this.Signout.bind(this),className:"Signout"},"Sign out"))),r.a.createElement(z.a,null,r.a.createElement(ee,{width:200,style:{background:"#fff"}},r.a.createElement($.b,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1","sub2"],style:{height:"100%",borderRight:0}},r.a.createElement(X,{key:"sub1",onClick:this.handleClick,title:r.a.createElement("span",null,r.a.createElement(Q.a,{type:"user"}),"\u5546\u54c1\u7ba1\u7406")},this.state.navs.slice(0,2).map(function(e){return r.a.createElement($.b.Item,{key:e.name},e.text)})),r.a.createElement(X,{key:"sub2",onClick:this.handleClick,title:r.a.createElement("span",null,r.a.createElement(Q.a,{type:"user"}),"\u7528\u6237\u7ba1\u7406")},this.state.navs.slice(4,-1).map(function(e){return r.a.createElement($.b.Item,{key:e.name},e.text)})))),r.a.createElement(z.a,{style:{padding:"0 24px 24px"}},r.a.createElement(Z,{style:{background:"#fff",padding:24,margin:0,minHeight:280}},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/app/home",component:P}),r.a.createElement(m.b,{path:"/app/addgoods",component:G}),r.a.createElement(m.b,{path:"/app/editgoods",component:B}),r.a.createElement(m.b,{path:"/app/user",component:K}),r.a.createElement(m.b,{path:"/app/adduser",component:A}),r.a.createElement(m.b,{path:"/app/edituser",component:W}),r.a.createElement(m.a,{from:"/app/",to:"/app/home"}))))))}}]),t}(n.Component),ae=te=Object(m.f)(te),ne=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(c.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,a){t||e.props.axios.post("http://47.102.102.242:1014/users/login",{username:a.username,password:a.password}).then(function(t){"success"===t.data.status?(localStorage.setItem("token",t.data.token),localStorage.setItem("username",a.username),e.props.history.push({pathname:"/app/home"})):alert("\u767b\u5f55\u5931\u8d25")})})},e.state={},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");this.props.axios.post("http://47.102.102.242:1014/users/autoLogin",{token:t}).then(function(t){"success"===t.data&&e.props.history.push({pathname:"/app/home"})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{id:"login",style:{height:"100%",width:"300px",margin:"200px auto"}},r.a.createElement(q.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(q.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(v.a,{prefix:r.a.createElement(Q.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(q.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(v.a,{prefix:r.a.createElement(Q.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(N.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55")))}}]),t}(n.Component);ne=I(ne);var re=q.a.create()(ne),le=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/app",component:ae}),r.a.createElement(m.b,{path:"/login",component:re}),r.a.createElement(m.a,{from:"/",to:"/login"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(91);o.a.render(r.a.createElement(oe.a,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[184,1,2]]]);
//# sourceMappingURL=main.6927a6d1.chunk.js.map